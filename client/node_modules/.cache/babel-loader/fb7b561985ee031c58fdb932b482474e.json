{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/gaby/Projects/promptly/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import{gql,useQuery}from\"@apollo/client\";import{BrowserRouter as Router,Redirect,Route}from\"react-router-dom\";import AppView from\"./views/AppView\";import AuthView from\"./views/AuthView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GET_USER=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query GetUser {\\n    getUser {\\n      id\\n      name\\n      email\\n      connections {\\n        name\\n        email\\n      }\\n      connectsToUser {\\n        name\\n        email\\n      }\\n    }\\n  }\\n\"])));function App(){var _useQuery=useQuery(GET_USER),loading=_useQuery.loading,data=_useQuery.data,refetch=_useQuery.refetch;if(loading)return\"Logging in...\";return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:data.getUser?/*#__PURE__*/_jsx(AppView,{refetchUser:refetch,user:data.getUser}):/*#__PURE__*/_jsx(Redirect,{to:\"/auth\"})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",children:data.getUser?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(AuthView,{refetchUser:refetch})})]});}export default App;","map":{"version":3,"sources":["/home/gaby/Projects/promptly/client/src/App.js"],"names":["gql","useQuery","BrowserRouter","Router","Redirect","Route","AppView","AuthView","GET_USER","App","loading","data","refetch","getUser"],"mappings":"8LAAA,OAASA,GAAT,CAAcC,QAAd,KAA8B,gBAA9B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,QAAlC,CAA4CC,KAA5C,KAAyD,kBAAzD,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGR,GAAH,6QAAd,CAkBA,QAASS,CAAAA,GAAT,EAAe,eACqBR,QAAQ,CAACO,QAAD,CAD7B,CACLE,OADK,WACLA,OADK,CACIC,IADJ,WACIA,IADJ,CACUC,OADV,WACUA,OADV,CAEb,GAAIF,OAAJ,CAAa,MAAO,eAAP,CACb,mBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,UACGC,IAAI,CAACE,OAAL,cAAe,KAAC,OAAD,EAAS,WAAW,CAAED,OAAtB,CAA+B,IAAI,CAAED,IAAI,CAACE,OAA1C,EAAf,cAAuE,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAD1E,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,UACGF,IAAI,CAACE,OAAL,cAAe,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAf,cAAqC,KAAC,QAAD,EAAU,WAAW,CAAED,OAAvB,EADxC,EAJF,GADF,CAUD,CAED,cAAeH,CAAAA,GAAf","sourcesContent":["import { gql, useQuery } from \"@apollo/client\";\nimport { BrowserRouter as Router, Redirect, Route } from \"react-router-dom\";\nimport AppView from \"./views/AppView\";\nimport AuthView from \"./views/AuthView\";\n\nconst GET_USER = gql`\n  query GetUser {\n    getUser {\n      id\n      name\n      email\n      connections {\n        name\n        email\n      }\n      connectsToUser {\n        name\n        email\n      }\n    }\n  }\n`;\n\nfunction App() {\n  const { loading, data, refetch} = useQuery(GET_USER);\n  if (loading) return \"Logging in...\";\n  return (\n    <Router>\n      <Route path=\"/\" exact>\n        {data.getUser ? <AppView refetchUser={refetch} user={data.getUser} /> : <Redirect to=\"/auth\" />}\n      </Route>\n      <Route path=\"/auth\">\n        {data.getUser ? <Redirect to=\"/\" /> : <AuthView refetchUser={refetch} />}\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}