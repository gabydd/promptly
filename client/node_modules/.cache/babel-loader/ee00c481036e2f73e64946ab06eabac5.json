{"ast":null,"code":"import _slicedToArray from\"/home/gaby/Projects/tasks-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/gaby/Projects/tasks-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import{useMutation,gql}from\"@apollo/client\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SIGN_UP=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  mutation SignUp($email: String!, $password: String!, $name: String!) {\\n    createAccount(email: $email, password: $password, name: $name) {\\n      message\\n    }\\n  }\\n\"])));var SignUpView=function SignUpView(_ref){var refetchUser=_ref.refetchUser;var _useMutation=useMutation(SIGN_UP,{onCompleted:function onCompleted(data){setMessage(data.createAccount.message);refetchUser();}}),_useMutation2=_slicedToArray(_useMutation,1),signUp=_useMutation2[0];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-origin-padding w-min rounded-lg bg-gray-300 bg-opacity-90 shadow-2xl mt-10 ml-10 p-4\",children:[/*#__PURE__*/_jsx(Formik,{initialValues:{name:\"\",email:\"\",password:\"\"},validationSchema:Yup.object({name:Yup.string().required(\"Required\"),email:Yup.string().email(\"Invalid email address\").required(\"Required\"),password:Yup.string().required(\"Required\")}),onSubmit:function onSubmit(values,_ref2){var setSubmitting=_ref2.setSubmitting;setTimeout(function(){signUp({variables:{name:values.name,email:values.email,password:values.password}});setSubmitting(false);},400);},className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"font-bold\",children:\"Name\"}),/*#__PURE__*/_jsx(Field,{name:\"name\",type:\"name\",className:\"rounded-lg \"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\",component:\"div\",className:\"text-red-600 text-sm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"font-bold\",children:\"Email\"}),/*#__PURE__*/_jsx(Field,{name:\"email\",type:\"email\",className:\"rounded-lg \"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"text-red-600 text-sm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"font-bold\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\",className:\"rounded-lg \"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-red-600 text-sm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 rounded-full w-full text-white\",children:\"Sign Up\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mt-2\",children:message}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign In\"})]});};export default SignUpView;","map":{"version":3,"sources":["/home/gaby/Projects/tasks-app/client/src/views/SignUpView.js"],"names":["useMutation","gql","Formik","Form","Field","ErrorMessage","Yup","useState","Link","SIGN_UP","SignUpView","refetchUser","onCompleted","data","setMessage","createAccount","message","signUp","name","email","password","object","string","required","values","setSubmitting","setTimeout","variables"],"mappings":"0VAAA,OAASA,WAAT,CAAsBC,GAAtB,KAAiC,gBAAjC,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,YAA9B,KAAkD,QAAlD,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFACA,GAAMC,CAAAA,OAAO,CAAGR,GAAH,8OAAb,CAQA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAqB,IAAlBC,CAAAA,WAAkB,MAAlBA,WAAkB,kBACrBX,WAAW,CAACS,OAAD,CAAU,CACpCG,WAAW,CAAE,qBAACC,IAAD,CAAU,CACrBC,UAAU,CAACD,IAAI,CAACE,aAAL,CAAmBC,OAApB,CAAV,CACAL,WAAW,GACZ,CAJmC,CAAV,CADU,8CAC/BM,MAD+B,gCAORV,QAAQ,CAAC,EAAD,CAPA,wCAO/BS,OAP+B,eAOtBF,UAPsB,eAQtC,mBACE,aAAK,SAAS,CAAC,yFAAf,wBACE,KAAC,MAAD,EACE,aAAa,CAAE,CAAEI,IAAI,CAAE,EAAR,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,QAAQ,CAAE,EAAjC,CADjB,CAEE,gBAAgB,CAAEd,GAAG,CAACe,MAAJ,CAAW,CAC3BH,IAAI,CAAEZ,GAAG,CAACgB,MAAJ,GAAaC,QAAb,CAAsB,UAAtB,CADqB,CAE3BJ,KAAK,CAAEb,GAAG,CAACgB,MAAJ,GACJH,KADI,CACE,uBADF,EAEJI,QAFI,CAEK,UAFL,CAFoB,CAK3BH,QAAQ,CAAEd,GAAG,CAACgB,MAAJ,GAAaC,QAAb,CAAsB,UAAtB,CALiB,CAAX,CAFpB,CASE,QAAQ,CAAE,kBAACC,MAAD,OAA+B,IAApBC,CAAAA,aAAoB,OAApBA,aAAoB,CACvCC,UAAU,CAAC,UAAM,CACfT,MAAM,CAAC,CACLU,SAAS,CAAE,CACTT,IAAI,CAAEM,MAAM,CAACN,IADJ,CAETC,KAAK,CAAEK,MAAM,CAACL,KAFL,CAGTC,QAAQ,CAAEI,MAAM,CAACJ,QAHR,CADN,CAAD,CAAN,CAOAK,aAAa,CAAC,KAAD,CAAb,CACD,CATS,CASP,GATO,CAAV,CAUD,CApBH,CAqBE,SAAS,CAAC,kCArBZ,uBAuBE,MAAC,IAAD,yBACE,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,WAAhC,kBADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,SAAS,CAAC,aAAzC,EAJF,cAKE,KAAC,YAAD,EACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,KAFZ,CAGE,SAAS,CAAC,sBAHZ,EALF,cAUE,YAAK,SAAS,CAAC,KAAf,EAVF,cAWE,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,WAAjC,mBAXF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,SAAS,CAAC,aAA3C,EAdF,cAeE,KAAC,YAAD,EACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,KAFZ,CAGE,SAAS,CAAC,sBAHZ,EAfF,cAoBE,YAAK,SAAS,CAAC,KAAf,EApBF,cAqBE,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,WAApC,sBArBF,cAwBE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,SAAS,CAAC,aAAjD,EAxBF,cAyBE,KAAC,YAAD,EACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,KAFZ,CAGE,SAAS,CAAC,sBAHZ,EAzBF,cA8BE,YAAK,SAAS,CAAC,KAAf,EA9BF,cA+BE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,4CAFZ,qBA/BF,GAvBF,EADF,cA+DE,YAAK,SAAS,CAAC,2BAAf,UAA4CT,OAA5C,EA/DF,cAgEE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,qBAhEF,GADF,CAoED,CA5ED,CA8EA,cAAeN,CAAAA,UAAf","sourcesContent":["import { useMutation, gql } from \"@apollo/client\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nconst SIGN_UP = gql`\n  mutation SignUp($email: String!, $password: String!, $name: String!) {\n    createAccount(email: $email, password: $password, name: $name) {\n      message\n    }\n  }\n`;\n\nconst SignUpView = ({ refetchUser }) => {\n  const [signUp] = useMutation(SIGN_UP, {\n    onCompleted: (data) => {\n      setMessage(data.createAccount.message);\n      refetchUser();\n    },\n  });\n  const [message, setMessage] = useState(\"\");\n  return (\n    <div className=\"bg-origin-padding w-min rounded-lg bg-gray-300 bg-opacity-90 shadow-2xl mt-10 ml-10 p-4\">\n      <Formik\n        initialValues={{ name: \"\", email: \"\", password: \"\" }}\n        validationSchema={Yup.object({\n          name: Yup.string().required(\"Required\"),\n          email: Yup.string()\n            .email(\"Invalid email address\")\n            .required(\"Required\"),\n          password: Yup.string().required(\"Required\"),\n        })}\n        onSubmit={(values, { setSubmitting }) => {\n          setTimeout(() => {\n            signUp({\n              variables: {\n                name: values.name,\n                email: values.email,\n                password: values.password,\n              },\n            });\n            setSubmitting(false);\n          }, 400);\n        }}\n        className=\"flex items-center justify-center\"\n      >\n        <Form>\n          <label htmlFor=\"name\" className=\"font-bold\">\n            Name\n          </label>\n          <Field name=\"name\" type=\"name\" className=\"rounded-lg \" />\n          <ErrorMessage\n            name=\"name\"\n            component=\"div\"\n            className=\"text-red-600 text-sm\"\n          />\n          <div className=\"h-4\" />\n          <label htmlFor=\"email\" className=\"font-bold\">\n            Email\n          </label>\n          <Field name=\"email\" type=\"email\" className=\"rounded-lg \" />\n          <ErrorMessage\n            name=\"email\"\n            component=\"div\"\n            className=\"text-red-600 text-sm\"\n          />\n          <div className=\"h-4\" />\n          <label htmlFor=\"password\" className=\"font-bold\">\n            Password\n          </label>\n          <Field name=\"password\" type=\"password\" className=\"rounded-lg \" />\n          <ErrorMessage\n            name=\"password\"\n            component=\"div\"\n            className=\"text-red-600 text-sm\"\n          />\n          <div className=\"h-4\" />\n          <button\n            type=\"submit\"\n            className=\"bg-blue-600 rounded-full w-full text-white\"\n          >\n            Sign Up\n          </button>\n        </Form>\n      </Formik>\n      <div className=\"text-red-600 text-sm mt-2\">{message}</div>\n      <Link to=\"/login\">Sign In</Link>\n    </div>\n  );\n};\n\nexport default SignUpView;\n"]},"metadata":{},"sourceType":"module"}