{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/gaby/Projects/tasks-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import{gql,useQuery}from\"@apollo/client\";import{BrowserRouter as Router,Redirect,Route}from\"react-router-dom\";import AppView from\"./views/AppView\";import LoginView from\"./views/LoginView\";import SignUpView from\"./views/SignUpView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GET_USER=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query GetUser {\\n    getUser {\\n      id\\n      name\\n      email\\n      connections {\\n        name\\n        email\\n      }\\n      connectsToUser {\\n        name\\n        email\\n      }\\n    }\\n  }\\n\"])));function App(){var _useQuery=useQuery(GET_USER),loading=_useQuery.loading,data=_useQuery.data,refetch=_useQuery.refetch;if(loading)return\"Logging in...\";return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:data.getUser?/*#__PURE__*/_jsx(AppView,{refetchUser:refetch,user:data.getUser}):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:data.getUser?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(LoginView,{refetchUser:refetch})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:data.getUser?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(SignUpView,{refetchUser:refetch})})]});}export default App;","map":{"version":3,"sources":["/home/gaby/Projects/tasks-app/client/src/App.js"],"names":["gql","useQuery","BrowserRouter","Router","Redirect","Route","AppView","LoginView","SignUpView","GET_USER","App","loading","data","refetch","getUser"],"mappings":"+LAAA,OAASA,GAAT,CAAcC,QAAd,KAA8B,gBAA9B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,QAAlC,CAA4CC,KAA5C,KAAyD,kBAAzD,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGT,GAAH,6QAAd,CAkBA,QAASU,CAAAA,GAAT,EAAe,eACqBT,QAAQ,CAACQ,QAAD,CAD7B,CACLE,OADK,WACLA,OADK,CACIC,IADJ,WACIA,IADJ,CACUC,OADV,WACUA,OADV,CAEb,GAAIF,OAAJ,CAAa,MAAO,eAAP,CACb,mBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,UACGC,IAAI,CAACE,OAAL,cAAe,KAAC,OAAD,EAAS,WAAW,CAAED,OAAtB,CAA+B,IAAI,CAAED,IAAI,CAACE,OAA1C,EAAf,cAAuE,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAD1E,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,UACGF,IAAI,CAACE,OAAL,cAAe,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAf,cAAqC,KAAC,SAAD,EAAW,WAAW,CAAED,OAAxB,EADxC,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,UACGD,IAAI,CAACE,OAAL,cAAe,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAf,cAAqC,KAAC,UAAD,EAAY,WAAW,CAAED,OAAzB,EADxC,EAPF,GADF,CAaD,CAED,cAAeH,CAAAA,GAAf","sourcesContent":["import { gql, useQuery } from \"@apollo/client\";\nimport { BrowserRouter as Router, Redirect, Route } from \"react-router-dom\";\nimport AppView from \"./views/AppView\";\nimport LoginView from \"./views/LoginView\";\nimport SignUpView from \"./views/SignUpView\";\n\nconst GET_USER = gql`\n  query GetUser {\n    getUser {\n      id\n      name\n      email\n      connections {\n        name\n        email\n      }\n      connectsToUser {\n        name\n        email\n      }\n    }\n  }\n`;\n\nfunction App() {\n  const { loading, data, refetch} = useQuery(GET_USER);\n  if (loading) return \"Logging in...\";\n  return (\n    <Router>\n      <Route path=\"/\" exact>\n        {data.getUser ? <AppView refetchUser={refetch} user={data.getUser} /> : <Redirect to=\"/login\" />}\n      </Route>\n      <Route path=\"/login\">\n        {data.getUser ? <Redirect to=\"/\" /> : <LoginView refetchUser={refetch} />}\n      </Route>\n      <Route path=\"/signup\">\n        {data.getUser ? <Redirect to=\"/\" /> : <SignUpView refetchUser={refetch} />}\n      </Route>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}