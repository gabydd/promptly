{"ast":null,"code":"import _slicedToArray from\"/home/gaby/Projects/tasks-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/gaby/Projects/tasks-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import{gql,useMutation}from\"@apollo/client\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DELETE_TASK=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  mutation DeleteTask($id: Int!) {\\n    deleteTask(id: $id) {\\n      message\\n      success\\n    }\\n  }\\n\"])));var TaskView=function TaskView(_ref){var task=_ref.task,refetchTasks=_ref.refetchTasks;var _useMutation=useMutation(DELETE_TASK,{onCompleted:function onCompleted(){return refetchTasks();}}),_useMutation2=_slicedToArray(_useMutation,1),deleteTask=_useMutation2[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg shadow-2xl flex flex-col \".concat(task.urgent?\"bg-red-400\":\"bg-blue-400\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-xl ml-auto\",children:task.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"group relative inline-block ml-auto mr-2 mt-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteTask({variables:{id:task.id}});},className:\"hover:bg-red-600 bg-green-600 rounded-full w-6 \",children:\"X\"}),/*#__PURE__*/_jsx(\"span\",{className:\"group-hover:inline-block absolute bg-gray-600 rounded shadow-lg z-50 left-1/2 top-full -ml-8 text-center text-white hidden\",children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-300 rounded\",children:task.description}),/*#__PURE__*/_jsx(\"div\",{children:new Date(Number(task.date)).toDateString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold\",children:[\"Manager:\",\"  \",/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-800 rounded-md inline-block text-white ml-1\",children:task.manager.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold\",children:[\"Assigned to:\",\"  \",task.assignees.map(function(assignee){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-600 rounded-md inline-block text-white ml-1\",children:assignee.name},assignee.name);})]})]});};export default TaskView;","map":{"version":3,"sources":["/home/gaby/Projects/tasks-app/client/src/views/TaskView.js"],"names":["gql","useMutation","DELETE_TASK","TaskView","task","refetchTasks","onCompleted","deleteTask","urgent","name","variables","id","description","Date","Number","date","toDateString","manager","assignees","map","assignee"],"mappings":"0VAAA,OAASA,GAAT,CAAcC,WAAd,KAAiC,gBAAjC,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGF,GAAH,4KAAjB,CASA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA4B,IAAzBC,CAAAA,IAAyB,MAAzBA,IAAyB,CAAnBC,YAAmB,MAAnBA,YAAmB,kBACtBJ,WAAW,CAACC,WAAD,CAAc,CAC5CI,WAAW,CAAE,6BAAMD,CAAAA,YAAY,EAAlB,EAD+B,CAAd,CADW,8CACpCE,UADoC,kBAK3C,mBACE,aACE,SAAS,+CACPH,IAAI,CAACI,MAAL,CAAc,YAAd,CAA6B,aADtB,CADX,wBAKE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,2BAAf,UAA4CJ,IAAI,CAACK,IAAjD,EADF,cAEE,aAAK,SAAS,CAAC,+CAAf,wBACE,eACE,OAAO,CAAE,yBAAMF,CAAAA,UAAU,CAAC,CAAEG,SAAS,CAAE,CAAEC,EAAE,CAAEP,IAAI,CAACO,EAAX,CAAb,CAAD,CAAhB,EADX,CAEE,SAAS,CAAC,iDAFZ,eADF,cAOE,aAAM,SAAS,CAAC,4HAAhB,oBAPF,GAFF,GALF,cAmBE,YAAK,SAAS,CAAC,WAAf,yBAnBF,cAoBE,YAAK,SAAS,CAAC,uBAAf,UAAwCP,IAAI,CAACQ,WAA7C,EApBF,cAqBE,qBAAM,GAAIC,CAAAA,IAAJ,CAASC,MAAM,CAACV,IAAI,CAACW,IAAN,CAAf,EAA4BC,YAA5B,EAAN,EArBF,cAsBE,aAAK,SAAS,CAAC,WAAf,sBACW,IADX,cAEE,YAAK,SAAS,CAAC,sDAAf,UACGZ,IAAI,CAACa,OAAL,CAAaR,IADhB,EAFF,GAtBF,cA4BE,aAAK,SAAS,CAAC,WAAf,0BACe,IADf,CAEGL,IAAI,CAACc,SAAL,CAAeC,GAAf,CAAmB,SAACC,QAAD,qBAClB,YAEE,SAAS,CAAC,uDAFZ,UAIGA,QAAQ,CAACX,IAJZ,EACOW,QAAQ,CAACX,IADhB,CADkB,EAAnB,CAFH,GA5BF,GADF,CA0CD,CA/CD,CAiDA,cAAeN,CAAAA,QAAf","sourcesContent":["import { gql, useMutation } from \"@apollo/client\";\n\nconst DELETE_TASK = gql`\n  mutation DeleteTask($id: Int!) {\n    deleteTask(id: $id) {\n      message\n      success\n    }\n  }\n`;\n\nconst TaskView = ({ task, refetchTasks }) => {\n  const [deleteTask] = useMutation(DELETE_TASK, {\n    onCompleted: () => refetchTasks(),\n  });\n\n  return (\n    <div\n      className={`rounded-lg shadow-2xl flex flex-col ${\n        task.urgent ? \"bg-red-400\" : \"bg-blue-400\"\n      }`}\n    >\n      <div className=\"flex flex-row\">\n        <div className=\"font-bold text-xl ml-auto\">{task.name}</div>\n        <div className=\"group relative inline-block ml-auto mr-2 mt-1\">\n          <button\n            onClick={() => deleteTask({ variables: { id: task.id } })}\n            className=\"hover:bg-red-600 bg-green-600 rounded-full w-6 \"\n          >\n            X\n          </button>\n          <span className=\"group-hover:inline-block absolute bg-gray-600 rounded shadow-lg z-50 left-1/2 top-full -ml-8 text-center text-white hidden\">\n            Delete\n          </span>\n        </div>\n      </div>\n      <div className=\"font-bold\">Description</div>\n      <div className=\"bg-yellow-300 rounded\">{task.description}</div>\n      <div>{new Date(Number(task.date)).toDateString()}</div>\n      <div className=\"font-bold\">\n        Manager:{\"  \"}\n        <div className=\"bg-green-800 rounded-md inline-block text-white ml-1\">\n          {task.manager.name}\n        </div>\n      </div>\n      <div className=\"font-bold\">\n        Assigned to:{\"  \"}\n        {task.assignees.map((assignee) => (\n          <div\n            key={assignee.name}\n            className=\"bg-purple-600 rounded-md inline-block text-white ml-1\"\n          >\n            {assignee.name}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default TaskView;\n"]},"metadata":{},"sourceType":"module"}